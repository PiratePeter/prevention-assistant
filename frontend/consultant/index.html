<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>GVB Preventa</title>
        <link rel="icon" type="image/x-icon" href="../res/favicon.png" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <link
            rel="stylesheet"
            href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css"
        />
        <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
        />
        <style>
            @import url(https://fonts.googleapis.com/css?family=Montserrat);

            /*basic stuff*/
            * {
                margin: 0;
                padding: 0;
            }

            html {
                height: 100%;
                background: linear-gradient(#ff8f18, #ee000c);
            }

            body {
                font-family: montserrat, arial, verdana;
            }

            #header {
                background-color: white;
                display: flex;
            }

            /*table*/
            #dataTableContainer {
                width: 90%;
                margin: 50px auto;
                background: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            }

            .btn-view {
                background: #ff8f18;
                color: white;
                border: none;
                padding: 5px 10px;
                border-radius: 4px;
                cursor: pointer;
                float: right;
            }

            .btn-view:hover {
                background: #ee000c;
            }
        </style>
    </head>

    <body>
        <div id="header">
            <img src="../res/logo.png" height="75px" />
        </div>
        <div id="dataTableContainer">
            <table id="myTable" class="display" style="width: 100%">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Vorname</th>
                        <th>Name</th>
                        <th>Datum</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <script>
            // gen data
            const schweizerNamen = [
                "Müller",
                "Meier",
                "Schmid",
                "Keller",
                "Weber",
                "Frei",
                "Zimmermann",
                "Huber",
                "Schneider",
                "Graf",
                "Baumann",
                "Wenger",
                "Fischer",
                "Roth",
                "Brunner",
                "Bühler",
                "Schärer",
                "Jost",
                "Schweizer",
                "Ritter",
                "Bachmann",
            ]

            let data = []
            let startID = 100001

            function randomDate(start, end) {
                const ts =
                    start.getTime() +
                    Math.random() * (end.getTime() - start.getTime())
                return new Date(ts)
            }

            function formatDate(d) {
                let dd = String(d.getDate()).padStart(2, "0")
                let mm = String(d.getMonth() + 1).padStart(2, "0")
                let yyyy = d.getFullYear()
                let hh = String(d.getHours()).padStart(2, "0")
                let min = String(d.getMinutes()).padStart(2, "0")
                return `${dd}.${mm}.${yyyy} ${hh}:${min}`
            }

            const startDate = new Date("2025-08-01T00:00:00")
            const endDate = new Date("2025-08-23T16:00:00")

            for (let i = 0; i < 25; i++) {
                let vorname = [
                    "Luca",
                    "Emma",
                    "Noah",
                    "Mia",
                    "Leon",
                    "Sofia",
                    "Elias",
                    "Lina",
                    "Liam",
                    "Lara",
                    "Jonas",
                    "Anna",
                    "David",
                    "Laura",
                    "Tim",
                    "Sarah",
                    "Paul",
                    "Julia",
                    "Nico",
                    "Elena",
                    "Jan",
                    "Lisa",
                    "Marc",
                    "Nina",
                    "Simon",
                    "Lea",
                ][i % 25]
                let name = schweizerNamen[i % schweizerNamen.length]
                let datum = randomDate(startDate, endDate)

                data.push({
                    ID: startID + i,
                    Vorname: vorname,
                    Name: name,
                    Datum: formatDate(datum),
                })
            }

            // init table
            $(document).ready(function () {
                $("#myTable").DataTable({
                    data: data,
                    language: {
                        url: "https://cdn.datatables.net/plug-ins/1.10.22/i18n/German.json",
                    },
                    columns: [
                        { data: "ID" },
                        { data: "Vorname" },
                        { data: "Name" },
                        { data: "Datum" },
                        {
                            data: null,
                            render: function (data, type, row) {
                                return `<a class="btn-view" href="info.html?id=${row.ID}"><i class="fa-solid fa-eye"></i></button>`
                            },
                        },
                    ],
                    pageLength: 10,
                    lengthMenu: [5, 10, 15, 25],
                })
            })
        </script>
    </body>
</html>
